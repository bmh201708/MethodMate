# MethodMate è¿‡æ»¤æœºåˆ¶æµ‹è¯•æŒ‡å—

æœ¬æŒ‡å—è¯´æ˜å¦‚ä½•ä½¿ç”¨å„ç§æµ‹è¯•è„šæœ¬æ¥éªŒè¯MethodMateé¡¹ç›®çš„è¿‡æ»¤æœºåˆ¶åŠŸèƒ½ã€‚

## ğŸ¯ æµ‹è¯•æ¦‚è¿°

MethodMateé¡¹ç›®å®ç°äº†åŸºäºORé€»è¾‘çš„è¿‡æ»¤æœºåˆ¶ï¼Œæ”¯æŒï¼š
- **é¢†åŸŸè¿‡æ»¤**ï¼šComputer Science, Arts and Humanities, Psychology, Social Sciences
- **æœŸåˆŠè¿‡æ»¤**ï¼šåŸºäºvenue-classification.jsä¸­çš„A/B/Cç±»æœŸåˆŠå’Œä¼šè®®
- **æ—¶é—´è¿‡æ»¤**ï¼š2020å¹´ä»¥åå‘è¡¨çš„è®ºæ–‡
- **è´¨é‡è¿‡æ»¤**ï¼šæ’é™¤æ’¤å›è®ºæ–‡ï¼ŒåªåŒ…å«æ­£å¼æ–‡ç« 

## ğŸ“‹ å¯ç”¨æµ‹è¯•è„šæœ¬

### 1. åŸºç¡€åŠŸèƒ½æµ‹è¯•
```bash
# å¿«é€ŸåŸºç¡€æµ‹è¯•ï¼ˆæ¨èé¦–å…ˆè¿è¡Œï¼‰
npm run test:filter

# æˆ–ç›´æ¥è¿è¡Œ
node simple-filter-test.js
```
**åŠŸèƒ½**ï¼šæµ‹è¯•é¢†åŸŸè¿‡æ»¤ã€æœŸåˆŠè¿‡æ»¤ã€ç»„åˆè¿‡æ»¤çš„åŸºæœ¬åŠŸèƒ½
**æ—¶é—´**ï¼šçº¦30ç§’
**é€‚ç”¨**ï¼šæ—¥å¸¸éªŒè¯ã€å¿«é€Ÿæ£€æŸ¥

### 2. è¾¹ç•Œæƒ…å†µæµ‹è¯•
```bash
# è¾¹ç•Œæƒ…å†µå’Œé”™è¯¯å¤„ç†æµ‹è¯•
npm run test:filter:edge

# æˆ–ç›´æ¥è¿è¡Œ
node test-edge-cases.js
```
**åŠŸèƒ½**ï¼šæµ‹è¯•ç‰¹æ®ŠæŸ¥è¯¢ã€æ— æ•ˆè¾“å…¥ã€APIå®¹é”™ç­‰
**æ—¶é—´**ï¼šçº¦2åˆ†é’Ÿ
**é€‚ç”¨**ï¼šå…¨é¢éªŒè¯ã€å‘å¸ƒå‰æ£€æŸ¥

### 3. æ€§èƒ½æµ‹è¯•
```bash
# æ€§èƒ½å’Œå“åº”æ—¶é—´æµ‹è¯•
npm run test:filter:performance

# æˆ–ç›´æ¥è¿è¡Œ
node test-performance.js
```
**åŠŸèƒ½**ï¼šæµ‹è¯•å“åº”æ—¶é—´ã€å¹¶å‘å¤„ç†ã€æ€§èƒ½æŒ‡æ ‡
**æ—¶é—´**ï¼šçº¦3åˆ†é’Ÿ
**é€‚ç”¨**ï¼šæ€§èƒ½ä¼˜åŒ–ã€è´Ÿè½½è¯„ä¼°

### 4. å…¨é¢æµ‹è¯•
```bash
# è¿è¡Œå®Œæ•´çš„æµ‹è¯•å¥—ä»¶
npm run test:filter:full

# æˆ–ç›´æ¥è¿è¡Œ
node test-filter-comprehensive.js
```
**åŠŸèƒ½**ï¼šåŒ…å«æ‰€æœ‰æµ‹è¯•ç±»å‹çš„å®Œæ•´éªŒè¯
**æ—¶é—´**ï¼šçº¦5åˆ†é’Ÿ
**é€‚ç”¨**ï¼šæ·±åº¦éªŒè¯ã€é—®é¢˜è¯Šæ–­

### 5. ç»„åˆæµ‹è¯•
```bash
# è¿è¡ŒåŸºç¡€+è¾¹ç•Œæµ‹è¯•
npm run test:all
```

## ğŸ”§ æµ‹è¯•é…ç½®

### æµ‹è¯•å‚æ•°é…ç½®
å¯ä»¥åœ¨å„æµ‹è¯•è„šæœ¬ä¸­ä¿®æ”¹ä»¥ä¸‹å‚æ•°ï¼š

```javascript
// åŸºç¡€é…ç½®
const TEST_CONFIG = {
    baseUrl: 'https://api.openalex.org/works',
    timeout: 30000,        // è¯·æ±‚è¶…æ—¶æ—¶é—´
    maxRetries: 3,         // æœ€å¤§é‡è¯•æ¬¡æ•°
    delay: 1000           // è¯·æ±‚é—´éš”
};
```

### æ€§èƒ½æµ‹è¯•é…ç½®
```javascript
const PERFORMANCE_CONFIG = {
    warmupRequests: 3,      // é¢„çƒ­è¯·æ±‚æ•°
    testRequests: 10,       // æµ‹è¯•è¯·æ±‚æ•°
    concurrentRequests: 5,  // å¹¶å‘è¯·æ±‚æ•°
    maxAcceptableTime: 5000 // å¯æ¥å—çš„æœ€å¤§å“åº”æ—¶é—´
};
```

## ğŸ“Š æµ‹è¯•ç»“æœè§£è¯»

### æˆåŠŸæŒ‡æ ‡
- âœ… **HTTP 200çŠ¶æ€ç **ï¼šAPIè¯·æ±‚æˆåŠŸ
- âœ… **ç»“æœæ•°é‡ > 0**ï¼šæ‰¾åˆ°ç›¸å…³è®ºæ–‡
- âœ… **å“åº”æ—¶é—´ < 10ç§’**ï¼šæ€§èƒ½å¯æ¥å—
- âœ… **æˆåŠŸç‡ > 90%**ï¼šç³»ç»Ÿç¨³å®šæ€§è‰¯å¥½

### æ€§èƒ½è¯„çº§
- ğŸ† **ä¼˜ç§€**ï¼š< 1ç§’å¹³å‡å“åº”æ—¶é—´
- ğŸ‘ **è‰¯å¥½**ï¼š1-2ç§’å¹³å‡å“åº”æ—¶é—´
- ğŸ‘Œ **ä¸€èˆ¬**ï¼š2-3ç§’å¹³å‡å“åº”æ—¶é—´
- âš ï¸ **è¾ƒæ…¢**ï¼š3-5ç§’å¹³å‡å“åº”æ—¶é—´
- âŒ **å¾ˆæ…¢**ï¼š> 5ç§’å¹³å‡å“åº”æ—¶é—´

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. ç½‘ç»œè¿æ¥é”™è¯¯
```
âŒ æµ‹è¯•å¤±è´¥: connect ENOTFOUND api.openalex.org
```
**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- ç¡®è®¤é˜²ç«å¢™è®¾ç½®
- å°è¯•ä½¿ç”¨ä»£ç†

#### 2. è¶…æ—¶é”™è¯¯
```
âŒ æµ‹è¯•å¤±è´¥: timeout of 30000ms exceeded
```
**è§£å†³æ–¹æ¡ˆ**ï¼š
- å¢åŠ timeouté…ç½®
- æ£€æŸ¥APIæœåŠ¡çŠ¶æ€
- å‡å°‘å¹¶å‘è¯·æ±‚æ•°é‡

#### 3. é€Ÿç‡é™åˆ¶
```
âŒ æµ‹è¯•å¤±è´¥: Request failed with status code 429
```
**è§£å†³æ–¹æ¡ˆ**ï¼š
- å¢åŠ è¯·æ±‚é—´éš”delay
- å‡å°‘å¹¶å‘è¯·æ±‚
- ç­‰å¾…åé‡è¯•

#### 4. æ¨¡å—å¯¼å…¥é”™è¯¯
```
ReferenceError: require is not defined in ES module scope
```
**è§£å†³æ–¹æ¡ˆ**ï¼š
- ç¡®è®¤ä½¿ç”¨æ­£ç¡®çš„ESæ¨¡å—è¯­æ³•
- æ£€æŸ¥package.jsonä¸­çš„"type": "module"

## ğŸ“ˆ æµ‹è¯•æŠ¥å‘Š

### æŠ¥å‘Šä½ç½®
æµ‹è¯•æŠ¥å‘Šä¼šè‡ªåŠ¨ä¿å­˜åˆ°ï¼š
```
server/test-reports/filter-test-report-[timestamp].json
```

### æŠ¥å‘Šå†…å®¹
```json
{
  "summary": {
    "totalTests": 15,
    "passed": 14,
    "failed": 1,
    "successRate": "93%",
    "totalTime": "45s"
  },
  "details": [...],
  "timestamp": "2024-01-15T10:30:00.000Z"
}
```

## ğŸ”„ æŒç»­é›†æˆ

### åœ¨CI/CDä¸­ä½¿ç”¨
```yaml
# GitHub Actions ç¤ºä¾‹
- name: Test Filter Mechanism
  run: |
    cd server
    npm run test:filter
    npm run test:filter:edge
```

### å®šæœŸæµ‹è¯•å»ºè®®
- **å¼€å‘é˜¶æ®µ**ï¼šè¿è¡Œ `npm run test:filter`
- **ä»£ç æäº¤å‰**ï¼šè¿è¡Œ `npm run test:all`
- **å‘å¸ƒå‰**ï¼šè¿è¡Œ `npm run test:filter:full`
- **ç”Ÿäº§ç›‘æ§**ï¼šå®šæœŸè¿è¡Œ `npm run test:filter:performance`

## ğŸ“ è‡ªå®šä¹‰æµ‹è¯•

### æ·»åŠ æ–°æµ‹è¯•ç”¨ä¾‹
åœ¨ç›¸åº”çš„æµ‹è¯•æ–‡ä»¶ä¸­æ·»åŠ ï¼š

```javascript
// åœ¨ simple-filter-test.js ä¸­æ·»åŠ 
const customTestQueries = [
    'your custom query 1',
    'your custom query 2'
];
```

### ä¿®æ”¹æœŸåˆŠåˆ—è¡¨
æ›´æ–° `server/config/venue-openalex-mapping.js` æ–‡ä»¶ï¼š

```javascript
const NEW_JOURNAL_IDS = [
    'S12345678',  // æ–°æœŸåˆŠID
    'S87654321'   // å¦ä¸€ä¸ªæœŸåˆŠID
];
```

## ğŸ¯ æœ€ä½³å®è·µ

1. **å®šæœŸè¿è¡Œæµ‹è¯•**ï¼šç¡®ä¿è¿‡æ»¤æœºåˆ¶æŒç»­æ­£å¸¸å·¥ä½œ
2. **ç›‘æ§æ€§èƒ½**ï¼šå…³æ³¨å“åº”æ—¶é—´å˜åŒ–è¶‹åŠ¿
3. **æ›´æ–°æµ‹è¯•ç”¨ä¾‹**ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚è°ƒæ•´æµ‹è¯•æŸ¥è¯¢
4. **ä¿å­˜æµ‹è¯•è®°å½•**ï¼šå»ºç«‹æµ‹è¯•å†å²æ•°æ®åº“
5. **è‡ªåŠ¨åŒ–æµ‹è¯•**ï¼šé›†æˆåˆ°CI/CDæµç¨‹ä¸­

## ğŸ“ æ”¯æŒ

å¦‚æœé‡åˆ°æµ‹è¯•ç›¸å…³é—®é¢˜ï¼š
1. æ£€æŸ¥æœ¬æŒ‡å—çš„æ•…éšœæ’é™¤éƒ¨åˆ†
2. æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Šçš„è¯¦ç»†é”™è¯¯ä¿¡æ¯
3. ç¡®è®¤ç½‘ç»œå’ŒAPIæœåŠ¡çŠ¶æ€
4. è”ç³»å¼€å‘å›¢é˜Ÿè·å–æ”¯æŒ

---

*æœ€åæ›´æ–°ï¼š2024å¹´1æœˆ*
