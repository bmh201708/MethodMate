# å·¦å³åˆ†æ æ–¹æ¡ˆå¯¹æ¯”åŠŸèƒ½ä¼˜åŒ–è¯´æ˜

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

æœ¬æ¬¡ä¼˜åŒ–å°†æ–¹æ¡ˆå¯¹æ¯”åŠŸèƒ½ä»å•æ æ˜¾ç¤ºæ”¹ä¸ºå·¦å³åˆ†æ å¸ƒå±€ï¼Œæä¾›æ›´ç›´è§‚çš„å¯¹æ¯”æ•ˆæœã€‚å·¦ä¾§æ˜¾ç¤ºåŸæ–‡ï¼Œå³ä¾§æ˜¾ç¤ºè¿­ä»£åçš„æ–¹æ¡ˆï¼Œç”¨çº¢è‰²æ ‡è®°åˆ é™¤çš„å†…å®¹ï¼Œç»¿è‰²æ ‡è®°æ–°å¢çš„å†…å®¹ã€‚

## ğŸ¯ ä¼˜åŒ–ç›®æ ‡

1. **æå‡å¯¹æ¯”æ•ˆæœ**ï¼šå·¦å³åˆ†æ å¸ƒå±€ä½¿å¯¹æ¯”æ›´åŠ ç›´è§‚
2. **å¢å¼ºè§†è§‰è¯†åˆ«**ï¼šçº¢è‰²åˆ é™¤ã€ç»¿è‰²æ–°å¢çš„é¢œè‰²ç¼–ç 
3. **æ”¹å–„ç”¨æˆ·ä½“éªŒ**ï¼šæ¸…æ™°çš„å¸ƒå±€å’Œé¢œè‰²åŒºåˆ†
4. **ä¿æŒå“åº”å¼**ï¼šåœ¨ç§»åŠ¨è®¾å¤‡ä¸Šè‡ªåŠ¨é€‚é…

## ğŸ”§ æŠ€æœ¯å®ç°

### 1. æ ¸å¿ƒå‡½æ•°ä¿®æ”¹

#### `textDiff.js` æ–°å¢å‡½æ•°

```javascript
// ç”Ÿæˆå·¦å³åˆ†æ çš„æ–‡æœ¬å·®å¼‚HTML
export function generateSideBySideDiffHTML(oldText, newText) {
  const diff = compareText(oldText, newText)
  
  let html = '<div class="side-by-side-diff">'
  html += '<div class="diff-columns">'
  
  // å·¦ä¾§ï¼šåŸæ–‡
  html += '<div class="diff-column old-column">'
  html += '<h4 class="column-title removed">åŸæ–‡</h4>'
  html += '<div class="column-content">'
  
  // æ˜¾ç¤ºåˆ é™¤çš„å†…å®¹ï¼ˆçº¢è‰²ï¼‰
  if (diff.removed.length > 0) {
    diff.removed.forEach(line => {
      html += `<div class="diff-line removed">${escapeHtml(line)}</div>`
    })
  }
  
  // æ˜¾ç¤ºä¿æŒä¸å˜çš„å†…å®¹
  if (diff.unchanged.length > 0) {
    diff.unchanged.forEach(line => {
      html += `<div class="diff-line unchanged">${escapeHtml(line)}</div>`
    })
  }
  
  html += '</div></div>'
  
  // å³ä¾§ï¼šæ–°æ–‡
  html += '<div class="diff-column new-column">'
  html += '<h4 class="column-title added">è¿­ä»£å</h4>'
  html += '<div class="column-content">'
  
  // æ˜¾ç¤ºæ–°å¢çš„å†…å®¹ï¼ˆç»¿è‰²ï¼‰
  if (diff.added.length > 0) {
    diff.added.forEach(line => {
      html += `<div class="diff-line added">${escapeHtml(line)}</div>`
    })
  }
  
  // æ˜¾ç¤ºä¿æŒä¸å˜çš„å†…å®¹
  if (diff.unchanged.length > 0) {
    diff.unchanged.forEach(line => {
      html += `<div class="diff-line unchanged">${escapeHtml(line)}</div>`
    })
  }
  
  html += '</div></div>'
  
  html += '</div></div>'
  return html
}

// ç”Ÿæˆå·¦å³åˆ†æ çš„æ•°ç»„å·®å¼‚HTML
export function generateSideBySideArrayDiffHTML(oldArray, newArray, title = '') {
  const diff = compareArrays(oldArray, newArray)
  
  let html = `<div class="side-by-side-array-diff">`
  if (title) {
    html += `<h3 class="array-diff-title">${title}</h3>`
  }
  
  html += '<div class="diff-columns">'
  
  // å·¦ä¾§ï¼šåŸæ–‡
  html += '<div class="diff-column old-column">'
  html += '<h4 class="column-title removed">åŸæ–‡</h4>'
  html += '<div class="column-content">'
  
  // æ˜¾ç¤ºåˆ é™¤çš„é¡¹ç›®ï¼ˆçº¢è‰²ï¼‰
  if (diff.removed.length > 0) {
    diff.removed.forEach(item => {
      html += `<div class="diff-item removed">${escapeHtml(item)}</div>`
    })
  }
  
  // æ˜¾ç¤ºä¿æŒä¸å˜çš„é¡¹ç›®
  if (diff.unchanged.length > 0) {
    diff.unchanged.forEach(item => {
      html += `<div class="diff-item unchanged">${escapeHtml(item)}</div>`
    })
  }
  
  html += '</div></div>'
  
  // å³ä¾§ï¼šæ–°æ–‡
  html += '<div class="diff-column new-column">'
  html += '<h4 class="column-title added">è¿­ä»£å</h4>'
  html += '<div class="column-content">'
  
  // æ˜¾ç¤ºæ–°å¢çš„é¡¹ç›®ï¼ˆç»¿è‰²ï¼‰
  if (diff.added.length > 0) {
    diff.added.forEach(item => {
      html += `<div class="diff-item added">${escapeHtml(item)}</div>`
    })
  }
  
  // æ˜¾ç¤ºä¿æŒä¸å˜çš„é¡¹ç›®
  if (diff.unchanged.length > 0) {
    diff.unchanged.forEach(item => {
      html += `<div class="diff-item unchanged">${escapeHtml(item)}</div>`
    })
  }
  
  html += '</div></div>'
  
  html += '</div></div>'
  return html
}
```

### 2. CSSæ ·å¼è®¾è®¡

#### å·¦å³åˆ†æ å¸ƒå±€æ ·å¼

```css
/* å·¦å³åˆ†æ å¯¹æ¯”æ ·å¼ */
.plan-comparison-side-by-side {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

.diff-columns {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
  margin-top: 1rem;
}

.diff-column {
  border: 1px solid #e5e7eb;
  border-radius: 0.5rem;
  overflow: hidden;
  background: white;
}

.column-title {
  font-size: 0.875rem;
  font-weight: 600;
  margin: 0;
  padding: 0.75rem 1rem;
  border-bottom: 1px solid #e5e7eb;
}

.column-title.removed {
  background: #fef2f2;
  color: #dc2626;
}

.column-title.added {
  background: #f0fdf4;
  color: #16a34a;
}

.column-content {
  padding: 1rem;
  max-height: 400px;
  overflow-y: auto;
  font-family: 'Courier New', monospace;
  font-size: 0.875rem;
  line-height: 1.5;
}
```

#### é¢œè‰²ç¼–ç æ ·å¼

```css
.diff-line.removed {
  background: #fef2f2;
  color: #dc2626;
  text-decoration: line-through;
  padding: 0.25rem 0.5rem;
}

.diff-line.added {
  background: #f0fdf4;
  color: #16a34a;
  padding: 0.25rem 0.5rem;
}

.diff-line.unchanged {
  color: #374151;
  padding: 0.25rem 0;
}

.diff-item.removed {
  background: #fef2f2;
  border-left-color: #dc2626;
  color: #dc2626;
  text-decoration: line-through;
}

.diff-item.added {
  background: #f0fdf4;
  border-left-color: #16a34a;
  color: #16a34a;
}

.diff-item.unchanged {
  background: #f9fafb;
  border-left-color: #6b7280;
  color: #374151;
}
```

#### å“åº”å¼è®¾è®¡

```css
/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .diff-columns {
    grid-template-columns: 1fr;
    gap: 0.5rem;
  }
  
  .column-content {
    max-height: 300px;
  }
}
```

### 3. ç•Œé¢ä¼˜åŒ–

#### å¯¹è¯æ¡†æ ‡é¢˜å’Œå›¾ä¾‹

```vue
<!-- è¯¦ç»†å¯¹æ¯”å†…å®¹ -->
<div class="bg-gray-50 rounded-lg p-6">
  <h3 class="text-lg font-semibold text-gray-900 mb-4">è¯¦ç»†å¯¹æ¯”ï¼ˆå·¦ï¼šåŸæ–‡ï¼Œå³ï¼šè¿­ä»£åï¼‰</h3>
  <div class="mb-4 flex items-center justify-center space-x-6 text-sm">
    <div class="flex items-center space-x-2">
      <div class="w-3 h-3 bg-red-100 rounded-full border border-red-300"></div>
      <span class="text-red-700">åˆ é™¤å†…å®¹</span>
    </div>
    <div class="flex items-center space-x-2">
      <div class="w-3 h-3 bg-green-100 rounded-full border border-green-300"></div>
      <span class="text-green-700">æ–°å¢å†…å®¹</span>
    </div>
    <div class="flex items-center space-x-2">
      <div class="w-3 h-3 bg-gray-100 rounded-full border border-gray-300"></div>
      <span class="text-gray-700">ä¿æŒä¸å˜</span>
    </div>
  </div>
  <div v-html="generatePlanComparisonHTML(planComparisonData.before, planComparisonData.after)"></div>
</div>
```

## ğŸ¨ è§†è§‰æ•ˆæœ

### é¢œè‰²ç¼–ç ç³»ç»Ÿ

- **ğŸ”´ çº¢è‰²**ï¼šåˆ é™¤çš„å†…å®¹
  - èƒŒæ™¯ï¼š`#fef2f2`
  - æ–‡å­—ï¼š`#dc2626`
  - æ•ˆæœï¼šåˆ é™¤çº¿ + çº¢è‰²èƒŒæ™¯

- **ğŸŸ¢ ç»¿è‰²**ï¼šæ–°å¢çš„å†…å®¹
  - èƒŒæ™¯ï¼š`#f0fdf4`
  - æ–‡å­—ï¼š`#16a34a`
  - æ•ˆæœï¼šç»¿è‰²èƒŒæ™¯ + ç»¿è‰²æ–‡å­—

- **âšª ç°è‰²**ï¼šä¿æŒä¸å˜çš„å†…å®¹
  - èƒŒæ™¯ï¼š`#f9fafb`
  - æ–‡å­—ï¼š`#374151`
  - æ•ˆæœï¼šç°è‰²èƒŒæ™¯ + æ­£å¸¸æ–‡å­—

### å¸ƒå±€ç‰¹ç‚¹

1. **å·¦å³åˆ†æ **ï¼šåŸæ–‡åœ¨å·¦ï¼Œè¿­ä»£ååœ¨å³
2. **æ ‡é¢˜åŒºåˆ†**ï¼šçº¢è‰²æ ‡é¢˜è¡¨ç¤ºåŸæ–‡ï¼Œç»¿è‰²æ ‡é¢˜è¡¨ç¤ºè¿­ä»£å
3. **å†…å®¹æ»šåŠ¨**ï¼šé•¿å†…å®¹æ”¯æŒå‚ç›´æ»šåŠ¨
4. **ç­‰å®½å­—ä½“**ï¼šä½¿ç”¨ `Courier New` ç¡®ä¿å¯¹é½
5. **å“åº”å¼**ï¼šç§»åŠ¨ç«¯è‡ªåŠ¨åˆ‡æ¢ä¸ºä¸Šä¸‹å¸ƒå±€

## ğŸ“± å“åº”å¼è®¾è®¡

### æ¡Œé¢ç«¯ï¼ˆ>768pxï¼‰
- å·¦å³åˆ†æ å¸ƒå±€
- å†…å®¹åŒºåŸŸé«˜åº¦ï¼š400px
- å›¾ä¾‹æ°´å¹³æ’åˆ—

### ç§»åŠ¨ç«¯ï¼ˆâ‰¤768pxï¼‰
- ä¸Šä¸‹å¸ƒå±€
- å†…å®¹åŒºåŸŸé«˜åº¦ï¼š300px
- å›¾ä¾‹å‚ç›´æ’åˆ—

## ğŸ§ª æµ‹è¯•éªŒè¯

### æµ‹è¯•é¡µé¢
- æ–‡ä»¶ï¼š`public/test-side-by-side-comparison.html`
- åŠŸèƒ½ï¼šå±•ç¤ºå·¦å³åˆ†æ å¯¹æ¯”æ•ˆæœ
- åŒ…å«ï¼šæ–‡æœ¬å¯¹æ¯”ã€æ•°ç»„å¯¹æ¯”ã€å“åº”å¼æ•ˆæœ

### æµ‹è¯•åœºæ™¯
1. **æ–‡æœ¬å¯¹æ¯”**ï¼šé•¿æ–‡æœ¬çš„å·®å¼‚æ˜¾ç¤º
2. **æ•°ç»„å¯¹æ¯”**ï¼šç ”ç©¶å‡è®¾ç­‰æ•°ç»„å†…å®¹çš„å¯¹æ¯”
3. **å“åº”å¼æµ‹è¯•**ï¼šä¸åŒå±å¹•å°ºå¯¸çš„æ˜¾ç¤ºæ•ˆæœ
4. **é¢œè‰²è¯†åˆ«**ï¼šåˆ é™¤ã€æ–°å¢ã€ä¿æŒä¸å˜å†…å®¹çš„è§†è§‰åŒºåˆ†

## ğŸš€ ä½¿ç”¨æ–¹æ³•

1. **ç”Ÿæˆæ–¹æ¡ˆ**ï¼šåœ¨ç ”ç©¶æ–¹æ¡ˆè¯¦æƒ…é¡µé¢ç”Ÿæˆåˆå§‹æ–¹æ¡ˆ
2. **è¿›è¡Œè¿­ä»£**ï¼šä½¿ç”¨æ•´ä½“è¿­ä»£æˆ–éƒ¨åˆ†è¿­ä»£åŠŸèƒ½
3. **æŸ¥çœ‹å¯¹æ¯”**ï¼šç‚¹å‡»"æ–¹æ¡ˆå¯¹æ¯”"æŒ‰é’®
4. **åˆ†æå˜åŒ–**ï¼šé€šè¿‡å·¦å³åˆ†æ å’Œé¢œè‰²ç¼–ç å¿«é€Ÿè¯†åˆ«å˜åŒ–
5. **å“åº”å¼æŸ¥çœ‹**ï¼šåœ¨ä¸åŒè®¾å¤‡ä¸ŠæŸ¥çœ‹å¯¹æ¯”æ•ˆæœ

## ğŸ“ˆ ä¼˜åŒ–æ•ˆæœ

### ç”¨æˆ·ä½“éªŒæå‡
- **ç›´è§‚å¯¹æ¯”**ï¼šå·¦å³åˆ†æ å¸ƒå±€ä½¿å¯¹æ¯”æ›´åŠ æ¸…æ™°
- **å¿«é€Ÿè¯†åˆ«**ï¼šé¢œè‰²ç¼–ç å¸®åŠ©å¿«é€Ÿè¯†åˆ«å˜åŒ–ç±»å‹
- **è§†è§‰å±‚æ¬¡**ï¼šæ¸…æ™°çš„æ ‡é¢˜å’Œå†…å®¹åŒºåˆ†
- **å“åº”å¼é€‚é…**ï¼šåœ¨ä¸åŒè®¾å¤‡ä¸Šéƒ½æœ‰è‰¯å¥½ä½“éªŒ

### æŠ€æœ¯ä¼˜åŠ¿
- **æ¨¡å—åŒ–è®¾è®¡**ï¼šç‹¬ç«‹çš„å¯¹æ¯”å‡½æ•°ä¾¿äºç»´æŠ¤
- **æ€§èƒ½ä¼˜åŒ–**ï¼šé«˜æ•ˆçš„å·®å¼‚è®¡ç®—å’ŒHTMLç”Ÿæˆ
- **å¯æ‰©å±•æ€§**ï¼šæ”¯æŒæ–‡æœ¬å’Œæ•°ç»„ç­‰å¤šç§æ•°æ®ç±»å‹
- **å…¼å®¹æ€§**ï¼šæ”¯æŒç°ä»£æµè§ˆå™¨çš„æ‰€æœ‰ç‰¹æ€§

## ğŸ”„ ç‰ˆæœ¬å†å²

- **v1.0**ï¼šåŸºç¡€æ–¹æ¡ˆå¯¹æ¯”åŠŸèƒ½
- **v2.0**ï¼šå·¦å³åˆ†æ å¸ƒå±€ä¼˜åŒ–ï¼ˆå½“å‰ç‰ˆæœ¬ï¼‰
  - æ–°å¢å·¦å³åˆ†æ æ˜¾ç¤º
  - ä¼˜åŒ–é¢œè‰²ç¼–ç ç³»ç»Ÿ
  - å¢å¼ºå“åº”å¼è®¾è®¡
  - æ”¹è¿›ç”¨æˆ·ä½“éªŒ

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æµè§ˆå™¨å…¼å®¹æ€§**ï¼šéœ€è¦æ”¯æŒCSS Gridå’ŒFlexbox
2. **å†…å®¹é•¿åº¦**ï¼šè¶…é•¿å†…å®¹ä¼šè‡ªåŠ¨æ»šåŠ¨
3. **é¢œè‰²å¯¹æ¯”åº¦**ï¼šç¡®ä¿åœ¨ä½å¯¹æ¯”åº¦ç¯å¢ƒä¸‹ä»å¯è¯†åˆ«
4. **æ€§èƒ½è€ƒè™‘**ï¼šå¤§é‡æ–‡æœ¬å¯¹æ¯”æ—¶å¯èƒ½éœ€è¦ä¼˜åŒ–

## ğŸ¯ åç»­ä¼˜åŒ–æ–¹å‘

1. **äº¤äº’å¢å¼º**ï¼šæ·»åŠ å±•å¼€/æŠ˜å åŠŸèƒ½
2. **æœç´¢åŠŸèƒ½**ï¼šåœ¨å¯¹æ¯”å†…å®¹ä¸­æœç´¢ç‰¹å®šå˜åŒ–
3. **å¯¼å‡ºåŠŸèƒ½**ï¼šæ”¯æŒå¯¼å‡ºå¯¹æ¯”ç»“æœä¸ºPDFæˆ–å›¾ç‰‡
4. **å†å²è®°å½•**ï¼šä¿å­˜å¤šæ¬¡è¿­ä»£çš„å¯¹æ¯”è®°å½•
5. **è‡ªå®šä¹‰æ ·å¼**ï¼šå…è®¸ç”¨æˆ·è‡ªå®šä¹‰é¢œè‰²ä¸»é¢˜ 